"use strict";const pageContainer=document.querySelector(".page__container"),overlays=document.querySelectorAll(".modal"),popupSuc=document.querySelector(".modal--success"),popupFail=document.querySelector(".modal--failure"),close=popupSuc.querySelector(".modal__button"),ok=popupFail.querySelector(".modal__button--failure"),form=document.querySelector("form"),feedbackName=document.querySelector("#firstname"),feedbackSurname=document.querySelector("#surname"),feedbackTel=document.querySelector("#tel"),feedbackEmail=document.querySelector("#email"),feedbackField=document.querySelector("#review-message"),storageName=localStorage.getItem("firstname"),storageSurname=localStorage.getItem("surname"),storageTel=localStorage.getItem("tel"),storageEmail=localStorage.getItem("email");function closeModal(e){e.addEventListener("click",(a=>{a.target===a.currentTarget&&e.classList.contains("modal--show")&&(e.classList.remove("modal--show"),pageContainer.removeAttribute("aria-hidden"))}))}storageName?(feedbackName.value=storageName,storageSurname?(feedbackSurname.value=storageSurname,storageTel?(feedbackTel.value=storageTel,storageEmail?(feedbackEmail.value=storageEmail,feedbackField.focus()):feedbackEmail.focus()):feedbackTel.focus()):feedbackSurname.focus()):feedbackName.focus(),form.addEventListener("submit",(e=>{feedbackName.value&&feedbackSurname.value&&feedbackTel.value&&feedbackEmail.value&&feedbackField.value?(localStorage.setItem("firstname",feedbackName.value),localStorage.setItem("surname",feedbackSurname.value),localStorage.setItem("tel",feedbackTel.value),localStorage.setItem("email",feedbackEmail.value),popupSuc.classList.add("modal--show"),pageContainer.setAttribute("aria-hidden","true")):(e.preventDefault(),popupFail.classList.add("modal--show"),pageContainer.setAttribute("aria-hidden","true"))})),close.addEventListener("click",(e=>{e.preventDefault(),popupSuc.classList.remove("modal--show"),pageContainer.removeAttribute("aria-hidden")})),ok.addEventListener("click",(e=>{e.preventDefault(),popupFail.classList.remove("modal--show"),pageContainer.removeAttribute("aria-hidden")}));for(let e=0;e<overlays.length;e+=1)closeModal(overlays[e]),focusLock.on(overlays[e]);document.addEventListener("keydown",(e=>{"Escape"===e.key&&(popupSuc.classList.contains("modal--show")&&(popupSuc.classList.remove("modal--show"),pageContainer.removeAttribute("aria-hidden"),e.preventDefault()),popupFail.classList.contains("modal--show")&&(popupFail.classList.remove("modal--show"),pageContainer.removeAttribute("aria-hidden"),e.preventDefault()))}));